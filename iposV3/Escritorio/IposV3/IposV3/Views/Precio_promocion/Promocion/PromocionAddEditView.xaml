
<UserControl
        x:Class="IposV3.Views.PromocionAddEditView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:cal="http://www.caliburnproject.org"
        xmlns:Syncfusion="http://schemas.syncfusion.com/wpf" 
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:cbind="clr-namespace:CalcBinding;assembly=CalcBinding"
        xmlns:local="clr-namespace:IposV3"
            xmlns:localCommon="clr-namespace:UICommon;assembly=UICommon"
        xmlns:localCont="clr-namespace:Controls;assembly=UICommon"
        xmlns:localConv="clr-namespace:Converters;assembly=UICommon"
        xmlns:ac="clr-namespace:AdornedControl;assembly=AdornedControl"
        mc:Ignorable="d"  
        Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.85'}" 
        Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.75'}"
        >
    <UserControl.Resources>
        <localConv:DecimalNullableConverter x:Key="DecimalNullableConverter"/>
        <localConv:IntNullableConverter x:Key="IntNullableConverter"/>
        <localConv:DateTimeOffsetToDateTimeConverter x:Key="DateTimeOffsetToDateTimeConverter"/>
    </UserControl.Resources>


    <ScrollViewer   Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.83'}"
                HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto" Padding="20,20,20,20" Margin="0 0 0 0 "  IsEnabled="{cbind:Binding Path=!IsBusy}" Opacity="{Binding Opacity}">
        <WrapPanel Name="MainPanel"  HorizontalAlignment="Stretch"  VerticalAlignment="Top"  >
            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}"  Height="5"  >
                <localCont:MessageBoxV2 MessageToUser="{Binding MessageToUser}"  Width="10"  HorizontalAlignment="Right"/>
            </StackPanel>



            <ac:AdornedControl  IsAdornerVisible="{Binding IsBusy}">
             <ac:AdornedControl.AdornerContent>
                    <localCont:LoadingWait></localCont:LoadingWait>
             </ac:AdornedControl.AdornerContent>
             <WrapPanel  HorizontalAlignment="Stretch"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding Path=!IsBusy}">


              <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">

                <Button  x:Name="Back" Style="{StaticResource MaterialDesignIconButton}">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="ArrowLeft"/>
                    </StackPanel>
                </Button>
                <TextBlock Style="{StaticResource MaterialDesignHeadline5TextBlock}">Promocion</TextBlock>
              </WrapPanel>



                    <TabControl Template="{DynamicResource TabControlControlTemplate1}" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}" >

                        <TabItem HorizontalAlignment="Stretch" Margin="0,0,0,10" Header="General">
                            <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}">
                                <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">

                                    <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">
                                        <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,0">
                                            <TextBlock  FontWeight="Medium"  HorizontalAlignment="Stretch"  VerticalAlignment="Top">General</TextBlock>
                                            <Border BorderThickness="0,2,0,0" BorderBrush="LightBlue"  >
                                                <WrapPanel Margin="0,10,0,0">


                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2.4*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Clave" />
                                                        <TextBox x:Name="Clave" Text="{Binding Promocion.Clave}" Margin="10,0,10,0"  IsReadOnly="{Binding BIsReadOnly}"  />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Clave}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2.4*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Nombre" />
                                                        <TextBox x:Name="Nombre" Text="{Binding Promocion.Nombre}" Margin="10,0,10,0"  IsReadOnly="{Binding BIsReadOnly}"  />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Nombre}"  Margin="0,0,0,0"/>
                                                    </StackPanel>


                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Activo*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Activo"  IsChecked="{Binding Promocion.Activo, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Activo}"  Margin="0,0,0,0"/>
                                                    </StackPanel>


                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Es multidetalle*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Esmultidetalle"  IsChecked="{Binding Promocion.Esmultidetalle, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Esmultidetalle}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Tag promocion multidetalle" />
                                                        <TextBox x:Name="Descmultidetalle" Text="{Binding Promocion.Descmultidetalle}" Margin="10,0,10,0"  IsReadOnly="{Binding BIsReadOnly}"  />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Descmultidetalle}"  Margin="0,0,0,0"/>
                                                    </StackPanel>



                                                </WrapPanel>
                                            </Border>
                                        </StackPanel>
                                    </WrapPanel>



                                    <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">
                                        <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,10">
                                            <TextBlock  FontWeight="Medium"  HorizontalAlignment="Stretch"  VerticalAlignment="Top">Rango</TextBlock>
                                            <Border BorderThickness="0,2,0,0" BorderBrush="LightBlue"  >
                                                <WrapPanel Margin="0,10,0,0">


                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3*x/12.5}"    >
                                                        <WrapPanel>
                                                            <RadioButton GroupName="RangoPromocion" FontWeight="SemiBold" Margin="0" IsChecked="{Binding Path=Promocion.Rangopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=1}" Content="Por producto" />
                                                            <WrapPanel>
                                                                <TextBox x:Name="ProductoClave" Text="{Binding Promocion.ProductoClave}" Margin="5,0,5,0"  HorizontalAlignment="Left" Width="50"   IsReadOnly="{cbind:Binding !BoolBindingExpression[RANGOPORPRODUCTO]}"/>
                                                                <TextBox x:Name="ProductoNombre" Text="{Binding Promocion.ProductoNombre}" Margin="10,0,10,0"  HorizontalAlignment="Left" Width="100"  IsReadOnly="True" />
                                                                <Button  x:Name="ProductoidButton" VerticalAlignment="Top" Margin="5,0,5,0" cal:Message.Attach="[Event Click] = [Action ShowPopUpSelector('ProductoClave')]"  Width="24"  Height="24" Visibility="{cbind:Binding Path=BoolBindingExpression[RANGOPORPRODUCTO]}"  Style="{StaticResource MaterialDesignIconButton}">
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <materialDesign:PackIcon Kind="Binoculars"/>
                                                                    </StackPanel>
                                                                </Button>
                                                            </WrapPanel>
                                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=ProductoClave}"  Margin="0,0,0,0"/>
                                                        </WrapPanel>
                                                    </StackPanel>


                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3*x/12.5}"    >
                                                        <WrapPanel>
                                                            <RadioButton GroupName="RangoPromocion" FontWeight="SemiBold" Margin="0" IsChecked="{Binding Path=Promocion.Rangopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=2}" Content="Por linea" />
                                                            <WrapPanel>
                                                                <TextBox x:Name="LineaClave" Text="{Binding Promocion.LineaClave}" Margin="5,0,5,0"  HorizontalAlignment="Left" Width="50" IsReadOnly="{cbind:Binding !BoolBindingExpression[RANGOPORLINEA]}" />
                                                                <TextBox x:Name="LineaNombre" Text="{Binding Promocion.LineaNombre}" Margin="10,0,10,0"  HorizontalAlignment="Left" Width="100"  IsReadOnly="True" />
                                                                <Button  x:Name="LineaidButton" VerticalAlignment="Top" Margin="5,0,5,0" cal:Message.Attach="[Event Click] = [Action ShowPopUpSelector('LineaClave')]"  Width="24"  Height="24" Visibility="{cbind:Binding Path=BoolBindingExpression[RANGOPORLINEA]}"  Style="{StaticResource MaterialDesignIconButton}">
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <materialDesign:PackIcon Kind="Binoculars"/>
                                                                    </StackPanel>
                                                                </Button>
                                                            </WrapPanel>
                                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=LineaClave}"  Margin="0,0,0,0"/>
                                                        </WrapPanel>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3*x/12.5}"    >
                                                        <WrapPanel>
                                                            <RadioButton GroupName="RangoPromocion" FontWeight="SemiBold" Margin="0" IsChecked="{Binding Path=Promocion.Rangopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=3}" Content="Por bodegazo" />

                                                        </WrapPanel>
                                                    </StackPanel>


                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3*x/12.5}"    >
                                                        <WrapPanel>
                                                            <RadioButton GroupName="RangoPromocion" FontWeight="SemiBold" Margin="0" IsChecked="{Binding Path=Promocion.Rangopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=3}" Content="General" />

                                                        </WrapPanel>
                                                    </StackPanel>


                                                </WrapPanel>
                                            </Border>
                                        </StackPanel>
                                    </WrapPanel>



                                    <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">
                                        <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,0">
                                            <TextBlock  FontWeight="Medium"  HorizontalAlignment="Stretch"  VerticalAlignment="Top">Tipo</TextBlock>
                                            <Border BorderThickness="0,2,0,0" BorderBrush="LightBlue"  >
                                                <WrapPanel Margin="0,10,0,0">



                                                    <StackPanel Margin="10,0,10,10"  MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="95"  >
                                                        <Border BorderThickness="0,0,0,2" BorderBrush="LightBlue" CornerRadius="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
                                                            <WrapPanel>
                                                                <RadioButton GroupName="TipoPromocion" Margin="0,0,0,10" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"
                                                                             FontWeight="SemiBold" IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=1}" Content="Compra x cantidad y llevate mas" />
                                                                <WrapPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Cantidad pagada" />
                                                                        <Syncfusion:DoubleTextBox x:Name="Cant_x_llevate_mas_cant" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Cant_x_llevate_mas_cant, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[COMPRATANTOSLLEVATETANTOS]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Cant_x_llevate_mas_cant}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Cantidad que se lleva" />
                                                                        <Syncfusion:DoubleTextBox x:Name="Cant_x_llevate_mas_llevate" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Cant_x_llevate_mas_llevate, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[COMPRATANTOSLLEVATETANTOS]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Cant_x_llevate_mas_llevate}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                </WrapPanel>
                                                            </WrapPanel>
                                                        </Border>
                                                    </StackPanel>


                                                    <StackPanel Margin="10,0,10,10" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="95"  >
                                                        <Border BorderThickness="0,0,0,2" BorderBrush="LightBlue" CornerRadius="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
                                                            <WrapPanel>
                                                                <RadioButton GroupName="TipoPromocion" Margin="0,0,0,10" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"
                                                                             FontWeight="SemiBold" IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=2}" Content="Compra x cantidad con un importe menor" />
                                                                <WrapPanel>


                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Cantidad que se lleva" />
                                                                        <Syncfusion:DoubleTextBox x:Name="Cant_x_importe_menor_cant" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Cant_x_importe_menor_cant, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[COMPRATANTOSPORTALIMPORTE]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Cant_x_importe_menor_cant}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Con importe total de" />
                                                                        <Syncfusion:DoubleTextBox x:Name="Cant_x_importe_menor_importe" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Cant_x_importe_menor_importe, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[COMPRATANTOSPORTALIMPORTE]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Cant_x_importe_menor_importe}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                </WrapPanel>
                                                            </WrapPanel>
                                                        </Border>
                                                    </StackPanel>


                                                    <StackPanel Margin="10,0,10,10" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="95"  >
                                                        <Border BorderThickness="0,0,0,2" BorderBrush="LightBlue" CornerRadius="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
                                                            <WrapPanel>
                                                                <RadioButton GroupName="TipoPromocion" Margin="0,0,0,10" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"
                                                                             FontWeight="SemiBold" IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=3}" Content="Porcentaje descuento" />
                                                                <WrapPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Porcentaje Descuento" />
                                                                        <Syncfusion:DoubleTextBox x:Name="PorcDesc" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.PorcDesc, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[CONPORCENTAJEDESCUENTO]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=PorcDesc}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="En monedero*" HorizontalAlignment="Center" />
                                                                        <CheckBox x:Name="Enmonedero_general"  IsChecked="{Binding Promocion.Enmonedero_general, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding BoolBindingExpression[CONPORCENTAJEDESCUENTO]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Enmonedero_general}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>


                                                                </WrapPanel>
                                                            </WrapPanel>
                                                        </Border>
                                                    </StackPanel>


                                                    <StackPanel Margin="10,0,10,10" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="95"  >
                                                        <Border BorderThickness="0,0,0,2" BorderBrush="LightBlue" CornerRadius="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" IsEnabled="{cbind:Binding BoolBindingExpression[RANGOPORLINEA]}">
                                                            <WrapPanel>
                                                                <RadioButton GroupName="TipoPromocion" Margin="0,0,0,10" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"
                                                                             FontWeight="SemiBold" IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=5}" Content="Descuento x monto por linea" />
                                                                <WrapPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Monto minimo requerido" />
                                                                        <Syncfusion:DoubleTextBox x:Name="Monto_min_desc_x_linea" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Monto_min_desc_x_linea, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[DESC_MONTOMIN_LINEA]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Monto_min_desc_x_linea}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Porcentaje descuento" />
                                                                        <Syncfusion:DoubleTextBox x:Name="PorcDesc_min_desc_x_linea" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.PorcDesc_min_desc_x_linea, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[DESC_MONTOMIN_LINEA]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=PorcDesc_min_desc_x_linea}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                </WrapPanel>
                                                            </WrapPanel>
                                                        </Border>
                                                    </StackPanel>



                                                    <StackPanel Margin="10,0,10,10" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="95"  >
                                                        <Border BorderThickness="0,0,0,2" BorderBrush="LightBlue" CornerRadius="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
                                                            <WrapPanel>
                                                                <RadioButton GroupName="TipoPromocion" Margin="0,0,0,10" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"
                                                                             FontWeight="SemiBold" IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=6}" Content="Compra x cantidad con un importe menor y el precio bajo se mantedra para los siguientes" />
                                                                <WrapPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Cantidad minima requerida" />
                                                                        <Syncfusion:DoubleTextBox x:Name="Cant_x_importe_menor_ext_cant" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Cant_x_importe_menor_ext_cant, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[COMPRATANTOSPORTALIMPORTEMANTEN]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Cant_x_importe_menor_ext_cant}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Con importe total de " />
                                                                        <Syncfusion:DoubleTextBox x:Name="Cant_x_importe_menor_ext_importe" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Cant_x_importe_menor_ext_importe, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[COMPRATANTOSPORTALIMPORTEMANTEN]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Cant_x_importe_menor_ext_importe}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                </WrapPanel>
                                                            </WrapPanel>
                                                        </Border>
                                                    </StackPanel>



                                                    <StackPanel Margin="10,0,10,10" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="95"  >
                                                        <Border BorderThickness="0,0,0,2" BorderBrush="LightBlue" CornerRadius="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" IsEnabled="{cbind:Binding BoolBindingExpression[RANGOPORBODEGAZO]}" >
                                                            <WrapPanel>
                                                                <RadioButton GroupName="TipoPromocion" Margin="0,0,0,10" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"
                                                                             FontWeight="SemiBold" IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=7}" Content="Porcentaje sumar costo" />
                                                                <WrapPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="% Aumento Costo" />
                                                                        <Syncfusion:DoubleTextBox x:Name="PorcAum_bodegazo" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.PorcAum_bodegazo, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[BODEGAZO]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=PorcAum_bodegazo}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="En monedero*" HorizontalAlignment="Center" />
                                                                        <CheckBox x:Name="Enmonedero_bodegazo"  IsChecked="{Binding Promocion.Enmonedero_bodegazo, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding BoolBindingExpression[BODEGAZO]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Enmonedero_bodegazo}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                </WrapPanel>
                                                            </WrapPanel>
                                                        </Border>
                                                    </StackPanel>

                                                    <StackPanel Margin="10,0,10,0" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12*x/12.5}"    >
                                                        <Border BorderThickness="0" BorderBrush="LightBlue" CornerRadius="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" >
                                                            <WrapPanel>
                                                                <RadioButton FontWeight="SemiBold" Margin="0,0,20,0" GroupName="TipoPromocion"  IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=8}" Content="Cupones Monto Minimo" />
                                                                <RadioButton FontWeight="SemiBold" Margin="0,0,20,0" GroupName="TipoPromocion" IsChecked="{Binding Path=Promocion.Tipopromocionid, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=9}" Content="Cupones Cada Monto" />
                                                                <WrapPanel>


                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Monto referencia cupon" />
                                                                        <Syncfusion:DoubleTextBox x:Name="Monto_min_cupon" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding Promocion.Monto_min_cupon, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" IsReadOnly="{cbind:Binding !BoolBindingExpression[ALGUNTIPOCUPON]}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Monto_min_cupon}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>


                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2.4*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Descripcion" />
                                                                        <TextBox x:Name="Descripcion" Text="{Binding Promocion.Descripcion}" Margin="10,0,10,0"  IsReadOnly="{Binding BIsReadOnly}"  />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Descripcion}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Mostrar datos cliente*" HorizontalAlignment="Center" />
                                                                        <CheckBox x:Name="Mostrardatoscliente"  IsChecked="{Binding Promocion.Mostrardatoscliente, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Mostrardatoscliente}"  Margin="0,0,0,0"/>
                                                                    </StackPanel>

                                                                </WrapPanel>
                                                            </WrapPanel>
                                                        </Border>
                                                    </StackPanel>


























                                                </WrapPanel>
                                            </Border>
                                        </StackPanel>
                                    </WrapPanel>



                                    <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">
                                        <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,0">
                                            <TextBlock  FontWeight="Medium"  HorizontalAlignment="Stretch"  VerticalAlignment="Top">Vigencia</TextBlock>
                                            <Border BorderThickness="0,2,0,0" BorderBrush="LightBlue"  >
                                                <WrapPanel Margin="0,10,0,0">


                                                    <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Lunes*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Lunes"  IsChecked="{Binding Promocion.Lunes, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Lunes}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Martes*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Martes"  IsChecked="{Binding Promocion.Martes, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Martes}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Miercoles*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Miercoles"  IsChecked="{Binding Promocion.Miercoles, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Miercoles}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Jueves*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Jueves"  IsChecked="{Binding Promocion.Jueves, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Jueves}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Viernes*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Viernes"  IsChecked="{Binding Promocion.Viernes, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Viernes}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Sabado*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Sabado"  IsChecked="{Binding Promocion.Sabado, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Sabado}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.2*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Domingo*" HorizontalAlignment="Center" />
                                                        <CheckBox x:Name="Domingo"  IsChecked="{Binding Promocion.Domingo, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,0,10,0"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding !BIsReadOnly}" />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Domingo}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Fecha inicio" />
                                                        <DatePicker x:Name="Fechainicio" HorizontalAlignment="Left" Margin="78,0,0,0"  VerticalAlignment="Top" SelectedDate="{Binding Converter={StaticResource DateTimeOffsetToDateTimeConverter}, Path=Promocion.Fechainicio}"  />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Fechainicio}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.8*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Fecha fin" />
                                                        <DatePicker x:Name="Fechafin" HorizontalAlignment="Left" Margin="78,0,0,0"  VerticalAlignment="Top" SelectedDate="{Binding Converter={StaticResource DateTimeOffsetToDateTimeConverter}, Path=Promocion.Fechafin}"  />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Fechafin}"  Margin="0,0,0,0"/>
                                                    </StackPanel>


                                                </WrapPanel>
                                            </Border>
                                        </StackPanel>
                                    </WrapPanel>



                                </WrapPanel>
                            </WrapPanel>
                        </TabItem>


                        <TabItem HorizontalAlignment="Stretch" Margin="0,0,0,10" Header="Sucursales">
                            <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}">
                                <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">


                                </WrapPanel>
                            </WrapPanel>
                        </TabItem>


                        <TabItem HorizontalAlignment="Stretch" Margin="0,0,0,10" Header="Imagen">
                            <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}">
                                <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">



                                    <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">
                                        <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,0">
                                            <TextBlock  FontWeight="Medium"  HorizontalAlignment="Stretch"  VerticalAlignment="Top">Imagen</TextBlock>
                                            <Border BorderThickness="0,2,0,0" BorderBrush="LightBlue"  >
                                                <WrapPanel Margin="0,10,0,0">


                                                    <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2.4*x/12.5}"  Height="65"  >
                                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Imagen" />
                                                        <TextBox x:Name="Imagen" Text="{Binding Promocion.Imagen}" Margin="10,0,10,0"  IsReadOnly="{Binding BIsReadOnly}"  />
                                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Imagen}"  Margin="0,0,0,0"/>
                                                    </StackPanel>

                                                </WrapPanel>
                                            </Border>
                                        </StackPanel>
                                    </WrapPanel>

                                </WrapPanel>
                            </WrapPanel>
                        </TabItem>

                    </TabControl>


                    <WrapPanel HorizontalAlignment="Center" Orientation="Horizontal" Margin="6" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}">
                <Rectangle  Width="120"/>
                <Rectangle  Width="120"/>
                <Button MinWidth="120" Margin="6" Padding="6"
                    x:Name="Accept" Content="Ok" IsEnabled="{cbind:Binding !Promocion.HasErrors}" Foreground="WhiteSmoke"/>
                <Rectangle  Width="120"/>
                <Button MinWidth="120" Margin="6" Padding="6"
                    x:Name="Cancel"
                    Content="Cancelar" Visibility="{cbind:Binding Path=!BIsReadOnly}" Background="LightGray"/>
                
               </WrapPanel>

             </WrapPanel>
            </ac:AdornedControl>

        </WrapPanel>
    </ScrollViewer>
</UserControl>


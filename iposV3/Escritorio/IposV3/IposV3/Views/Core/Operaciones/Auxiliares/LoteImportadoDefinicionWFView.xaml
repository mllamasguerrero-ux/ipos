
<UserControl
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:cal="http://www.caliburnproject.org"
        xmlns:Syncfusion="http://schemas.syncfusion.com/wpf" x:Class="IposV3.Views.LoteImportadoDefinicionWFView"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:cbind="clr-namespace:CalcBinding;assembly=CalcBinding"
        xmlns:local="clr-namespace:IposV3"
            xmlns:localCommon="clr-namespace:UICommon;assembly=UICommon"
        xmlns:localCont="clr-namespace:Controls;assembly=UICommon"
        xmlns:localConv="clr-namespace:Converters;assembly=UICommon"
        xmlns:ac="clr-namespace:AdornedControl;assembly=AdornedControl"
        mc:Ignorable="d"
        Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.50'}" 
        Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.50'}"
        Loaded="UserControl_Loaded"
        >
    <UserControl.Resources>
        <localConv:DateTimeOffsetToDateTimeConverter x:Key="DateTimeOffsetToDateTimeConverter"/>
    </UserControl.Resources>


    <ScrollViewer  HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto" Margin="20,20,20,20"
                   localConv:EnterKeyTraversal.IsEnabled="True">
        <WrapPanel Name="MainPanel"  HorizontalAlignment="Stretch"  VerticalAlignment="Top"  >
            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}"  Height="5"  >
                <localCont:MessageBoxV2 MessageToUser="{Binding MessageToUser}"  Width="10"  HorizontalAlignment="Right"/>
            </StackPanel>

            <ac:AdornedControl  IsAdornerVisible="{Binding IsBusy}">
             <ac:AdornedControl.AdornerContent>
                    <localCont:LoadingWait></localCont:LoadingWait>
             </ac:AdornedControl.AdornerContent>
             <WrapPanel  HorizontalAlignment="Stretch"  VerticalAlignment="Top"  IsEnabled="{Binding !IsBusy}">


             <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">

                <Button  x:Name="Back" Style="{StaticResource MaterialDesignIconButton}">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="ArrowLeft"/>
                    </StackPanel>
                </Button>
                <TextBlock Style="{StaticResource MaterialDesignHeadline5TextBlock}">Definicion de Lote importado</TextBlock>
             </WrapPanel>


             <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">
                <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,20">
                            <TextBlock Style="{StaticResource MaterialDesignHeadline6TextBlock}" FontWeight="Medium"  HorizontalAlignment="Stretch"  VerticalAlignment="Top"></TextBlock>
                    <Border BorderThickness="0,2,0,0"  BorderBrush="LightBlue"  >
                        <WrapPanel Margin="0,10,0,0">
        
             <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=6*x/12.5}"  Height="65"  >
                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Producto" />
            	<TextBox x:Name="Productoclave" Text="{Binding LoteImportadoItem.Productoclave}" Margin="10,0,10,0"  IsReadOnly="True"  />
                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0,  ElementName=Productoclave}"  Margin="0,0,0,0"/>
             </StackPanel>
        
             <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=6*x/12.5}"  Height="65"  >
                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="" />
            	<TextBox x:Name="Productonombre" Text="{Binding LoteImportadoItem.Productonombre}" Margin="10,0,10,0"  IsReadOnly="True"  />
                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0,  ElementName=Productonombre}"  Margin="0,0,0,0"/>
             </StackPanel>
        
             <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=8*x/12.5}"  Height="65"  >
                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Pedimento" />
            	<TextBox x:Name="Pedimento" Text="{Binding LoteImportadoItem.Pedimento}" Margin="10,0,10,0"    />
                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Pedimento}"  Margin="0,0,0,0"/>
             </StackPanel>

             <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="75"  >
                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Fecha pedimento" />
                                        <DatePicker x:Name="Fechavence" HorizontalAlignment="Left" Margin="78,10,0,0"  VerticalAlignment="Top" SelectedDate="{Binding Converter={StaticResource DateTimeOffsetToDateTimeConverter}, Path=LoteImportadoItem.Fechavence}"  />
                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Fechavence}"  Margin="0,0,0,0"/>
             </StackPanel>

             <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=6*x/12.5}"  Height="75"  >
                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Aduana" />
		<WrapPanel>
			<TextBox x:Name="Sataduanaclave" Text="{Binding LoteImportadoItem.Sataduanaclave}" Margin="10,0,10,0"  HorizontalAlignment="Left" Width="50"   />
			<TextBox x:Name="Sataduananombre" Text="{Binding LoteImportadoItem.Sataduananombre}" Margin="10,0,10,0"  HorizontalAlignment="Left" Width="100"  IsReadOnly="True" />
            		<Button  x:Name="SataduanaidButton" VerticalAlignment="Top" Margin="10,0,10,0" cal:Message.Attach="[Event Click] = [Action ShowPopUpSelector('Sataduanaclave')]"  Width="24"  Height="24"  Style="{StaticResource MaterialDesignIconButton}">
                               <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Binoculars"/>
                               </StackPanel>
                    </Button>
		</WrapPanel>
                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Sataduanaclave}"  Margin="0,0,0,0"/>
             </StackPanel>


             <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=4*x/12.5}"  Height="65"  >
                                        <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Tipo cambio" />
                                        <Syncfusion:DoubleTextBox x:Name="Tipocambio" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding LoteImportadoItem.Tipocambio}" VerticalAlignment="Top"  IsScrollingOnCircle="False"  />
                                        <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Tipocambio}"  Margin="0,0,0,0"/>
             </StackPanel>


                                </WrapPanel>
                    </Border>
                </StackPanel>
             </WrapPanel>

             
         
             <WrapPanel HorizontalAlignment="Center" Orientation="Horizontal" Margin="6" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}">
                <Rectangle  Width="120"/>
                <Rectangle  Width="120"/>
                <Button MinWidth="120" Margin="6" Padding="6"
                    x:Name="Accept" Content="Ok" IsEnabled="{cbind:Binding !Screendefloteimportado.HasErrors}" Foreground="WhiteSmoke"
                        IsManipulationEnabled="True"/>
                <Rectangle  Width="120"/>
                <Button MinWidth="120" Margin="6" Padding="6"
                    x:Name="Cancel"
                    Content="Cancelar"  Background="LightGray" IsManipulationEnabled="True"/>
                
             </WrapPanel>




             </WrapPanel>
            </ac:AdornedControl>

        </WrapPanel>
    </ScrollViewer>
</UserControl>


<UserControl
        x:Class="IposV3.Views.WFConsolidadoWFView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:cal="http://www.caliburnproject.org"
        xmlns:Syncfusion="http://schemas.syncfusion.com/wpf" 
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:cbind="clr-namespace:CalcBinding;assembly=CalcBinding"
        xmlns:local="clr-namespace:IposV3"
        xmlns:localCont="clr-namespace:Controls;assembly=UICommon"
        xmlns:localConv="clr-namespace:Converters;assembly=UICommon"
        xmlns:ac="clr-namespace:AdornedControl;assembly=AdornedControl"
        mc:Ignorable="d" 
        Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.95'}" 
        Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.95'}"
        >
    <UserControl.Resources>
        <localConv:DecimalNullableConverter x:Key="DecimalNullableConverter"/>
        <localConv:DateTimeOffsetToDateTimeConverter x:Key="DateTimeOffsetToDateTimeConverter"/>

        <Style x:Key="customCellStyle" TargetType="Syncfusion:VirtualizingCellsControl">
            <Setter Property="cal:Message.Attach" Value="[Event MouseDoubleClick] = [Action SelectItemByCell($dataContext)]"/>
        </Style>

        <Style x:Key="filterControlStyle" TargetType="Syncfusion:GridFilterControl">
            <Setter Property="FilterMode" Value="AdvancedFilter" />
        </Style>
    </UserControl.Resources>


    <!--<ScrollViewer Name="MainScrollViewer"  Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={localConv:WindowSizeConverter}, ConverterParameter='0.73'}"
                HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto" Padding="20,20,20,20" Margin="0 0 0 0 "  IsEnabled="{cbind:Binding Path=!IsBusy}" Opacity="{Binding Opacity}">
        
    </ScrollViewer>-->

    <WrapPanel Name="MainPanel"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch"   >




        <ac:AdornedControl  IsAdornerVisible="{Binding IsBusy}"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
            <ac:AdornedControl.AdornerContent>
                <localCont:LoadingWait></localCont:LoadingWait>
            </ac:AdornedControl.AdornerContent>
            <DockPanel  HorizontalAlignment="Stretch"  VerticalAlignment="Top"  IsEnabled="{cbind:Binding Path=!IsBusy}">

                <ScrollViewer DockPanel.Dock="Top" Height="{Binding ElementName=MainPanel, Path=ActualHeight, Converter={localConv:MathConverter}, ConverterParameter=5*x/12.5}">

                    <StackPanel HorizontalAlignment="Stretch">

                        <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">

                            <Button  x:Name="Back" Style="{StaticResource MaterialDesignIconButton}">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="ArrowLeft"/>
                                </StackPanel>
                            </Button>
                            <TextBlock Style="{StaticResource MaterialDesignHeadline5TextBlock}">Consolidado de facturas</TextBlock>
                        </WrapPanel>


                        <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12*x/12.5}">
                            <StackPanel HorizontalAlignment="Stretch" Margin="0,0,0,20">
                                <Border BorderThickness="0,2,0,0" BorderBrush="LightBlue"  >
                                    <WrapPanel Margin="0,10,0,0">

                                        <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2.5*x/12.5}" Height="65">

                                            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2*x/12.5}" Margin="10,0,0,10">
                                                <WrapPanel>
                                                    <TextBlock  HorizontalAlignment="Stretch"  VerticalAlignment="Top">Agrupacion</TextBlock>
                                                </WrapPanel>
                                            </StackPanel>

                                            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"    >
                                                <WrapPanel>
                                                    <RadioButton GroupName="Tipoagrupacion"  Margin="0" IsChecked="{Binding Path=WFConsolidadoItem.Tipoagrupacion, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=1}" Content="Por mes" />
                                                </WrapPanel>
                                            </StackPanel>

                                            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"    >
                                                <WrapPanel>
                                                    <RadioButton GroupName="Tipoagrupacion" Margin="0" IsChecked="{Binding Path=WFConsolidadoItem.Tipoagrupacion, Converter={localConv:RadioBoolToLongConverter}, ConverterParameter=2}" Content="Por dia" />
                                                </WrapPanel>
                                            </StackPanel>
                                        </WrapPanel>


                                        <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3.5*x/12.5}" Height="65">


                                            <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=0.5*x/12.5}"  Height="65"  
                                                                Visibility="{cbind:Binding Path=BoolBindingExpression[AGRUPADOPORMES]}">
                                                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="AÃ±o" />
                                                <Syncfusion:IntegerTextBox x:Name="Anio"  HorizontalAlignment="Stretch"  Margin="10,0,10,0"  NumberGroupSeparator="," GroupSeperatorEnabled="False" TextWrapping="Wrap"  VerticalAlignment="Top" Value="{Binding WFConsolidadoItem.Anio}"  IsScrollingOnCircle="False"  />
                                                <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Anio}"  Margin="0,0,0,0"/>
                                            </StackPanel>


                                            <StackPanel MinWidth="50" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"  Height="65" 
                                                                Visibility="{cbind:Binding Path=BoolBindingExpression[AGRUPADOPORMES]}">
                                                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Mes" />
                                                <ComboBox  x:Name="Mes" 
			                                                    ItemsSource="{Binding Catalogs[Meses]}"
                        
                                                                            SelectedValuePath="Id"
                                                                            SelectedValue="{Binding WFConsolidadoItem.Mes}"
                                                                            DisplayMemberPath="Nombre"
 			                                                     />
                                                <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=Mes}"  Margin="0,0,0,0"/>
                                            </StackPanel>


                                            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.5*x/12.5}"  Height="65" 
                                                                Visibility="{cbind:Binding Path=BoolBindingExpression[AGRUPADOPORFECHA]}">
                                                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Fecha inicio" />
                                                <DatePicker x:Name="FechaIni" HorizontalAlignment="Left" Margin="78,0,0,0"  VerticalAlignment="Top" SelectedDate="{Binding Converter={StaticResource DateTimeOffsetToDateTimeConverter}, Path=FechaInicial}"  />
                                                <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=FechaIni}"  Margin="0,0,0,0"/>
                                            </StackPanel>

                                            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.5*x/12.5}"  Height="65" 
                                                                Visibility="{cbind:Binding Path=BoolBindingExpression[AGRUPADOPORFECHA]}" >
                                                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Fecha Fin" />
                                                <DatePicker x:Name="FechaFin" HorizontalAlignment="Left" Margin="78,0,0,0"  VerticalAlignment="Top" SelectedDate="{Binding Converter={StaticResource DateTimeOffsetToDateTimeConverter}, Path=FechaFinal}"  />
                                                <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=FechaFin}"  Margin="0,0,0,0"/>
                                            </StackPanel>

                                        </WrapPanel>

                                        <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2*x/12.5}"  Height="65"  >
                                            <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Por grupo de usuario" HorizontalAlignment="Left" />
                                            <WrapPanel>
                                                <CheckBox x:Name="Porgrupousuario"  IsChecked="{Binding WFConsolidadoItem.Porgrupousuario, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top" />
                                                <ComboBox  x:Name="GrupoUsuarioId" 
			                                                    ItemsSource="{Binding Catalogs[Grupousuario]}"
                        
                                                                            SelectedValuePath="Id"
                                                                            SelectedValue="{Binding WFConsolidadoItem.GrupoUsuarioId}"
                                                                            DisplayMemberPath="Nombre"
                                                                            Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.5*x/12.5}"
                                                                            IsReadOnly="{cbind:Binding !BoolBindingExpression[PORGRUPOUSUARIO]}"
 			                                                     />
                                            </WrapPanel>

                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=GrupoUsuarioId}"  Margin="0,0,0,0"/>
                                        </StackPanel>



                                        <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2*x/12.5}"  Height="65"  
                                                    Visibility="{cbind:Binding Path=BoolBindingExpression[AGRUPADOPORMES]}">
                                            <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Monto maximo" HorizontalAlignment="Left" />
                                            <WrapPanel>
                                                <CheckBox x:Name="AplicaMontoMaximo"  IsChecked="{Binding WFConsolidadoItem.AplicaMontoMaximo, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top"   />
                                                <Syncfusion:DoubleTextBox x:Name="MaximoMonto" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding WFConsolidadoItem.MaximoMonto, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False"
                                                                                  Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"
                                                                                  IsReadOnly="{cbind:Binding !BoolBindingExpression[APLICAMONTOMAXIMO]}"/>
                                            </WrapPanel>
                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=MaximoMonto}"  Margin="0,0,0,0"/>
                                        </StackPanel>



                                        <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2*x/12.5}"  Height="65" 
                                                    Visibility="{cbind:Binding Path=BoolBindingExpression[AGRUPADOPORMES]}">
                                            <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Maximo porcentaje" HorizontalAlignment="Left" />
                                            <WrapPanel>
                                                <CheckBox x:Name="AplicaMontoMaximoPorcentaje"  IsChecked="{Binding WFConsolidadoItem.AplicaMontoMaximoPorcentaje, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top"  />
                                                <Syncfusion:DoubleTextBox x:Name="MaximoPorcentaje" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding WFConsolidadoItem.MaximoPorcentaje, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False"
                                                                                  Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"
                                                                                  IsReadOnly="{cbind:Binding !BoolBindingExpression[APLICAPORCENTAJEMAXIMO]}"/>

                                            </WrapPanel>
                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=MaximoPorcentaje}"  Margin="0,0,0,0"/>

                                        </StackPanel>




                                        <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"  Height="65"  >
                                            <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Omitir vales" HorizontalAlignment="Center" />
                                            <CheckBox x:Name="OmitirVales"  IsChecked="{Binding WFConsolidadoItem.OmitirVales, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top" />
                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=OmitirVales}"  Margin="0,0,0,0"/>
                                        </StackPanel>








                                        <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"  Height="65"  >
                                            <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Incluir gastos" HorizontalAlignment="Center" />
                                            <CheckBox x:Name="IncluirGastos"  IsChecked="{Binding WFConsolidadoItem.IncluirGastos, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top"   />
                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=IncluirGastos}"  Margin="0,0,0,0"/>
                                        </StackPanel>

                                        <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.5*x/12.5}"  Height="65"  >
                                            <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="2,0,2,0"  Content="Omitir clientes con rfc" HorizontalAlignment="Center" />
                                            <CheckBox x:Name="OmitirClientesRfc"  IsChecked="{Binding WFConsolidadoItem.OmitirClientesRfc, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top"   />
                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=OmitirClientesRfc}"  Margin="0,0,0,0"/>
                                        </StackPanel>

                                        <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1.5*x/12.5}"  Height="65"  >
                                            <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="2,0,2,0"  Content="Omitir ventas franquicias" HorizontalAlignment="Center" />
                                            <CheckBox x:Name="OmitirVentasFranquicias"  IsChecked="{Binding WFConsolidadoItem.OmitirVentasFranquicias, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top"  />
                                            <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=OmitirVentasFranquicias}"  Margin="0,0,0,0"/>
                                        </StackPanel>

                                        <StackPanel  MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2*x/12.5}"  Height="65">

                                            <Button MinWidth="40" Margin="30,10,30,0" Padding="2"
                                                            x:Name="VerFacturas" Content="Ver facturas"  Foreground="WhiteSmoke"/>

                                        </StackPanel>

                                        <WrapPanel Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}" 
                                               Visibility="{cbind:Binding Path=BoolBindingExpression[AGRUPADOPORFECHA]}">


                                            <StackPanel  MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3.5*x/12.5}"  Height="65">
                                                <WrapPanel>
                                                    <Button MinWidth="40" Margin="10,10,20,0" Padding="4,2,4,2"
                                                            x:Name="DiaAnterior" Content="Dia anterior"  Background="LightGray"/>
                                                    <DatePicker x:Name="FechaActual" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}" 
                                                        HorizontalAlignment="Left" Margin="0,15,20,0"  VerticalAlignment="Top" SelectedDate="{Binding Converter={StaticResource DateTimeOffsetToDateTimeConverter}, Path=FechaActual}"  />
                                                    <Button MinWidth="40" Margin="0,10,0,0" Padding="4,2,4,2"
                                                            x:Name="DiaSiguiente" Content="Dia siguiente"  Background="LightGray"/>

                                                </WrapPanel>

                                            </StackPanel>

                                            <StackPanel MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=2*x/12.5}"  Height="65"  >
                                                <Label Style="{DynamicResource LabelFieldFormTemplate}" Margin="10,0,10,0"  Content="Monto Maximo x Dia" HorizontalAlignment="Left" />
                                                <WrapPanel>
                                                    <CheckBox x:Name="AplicaMontoMaximoPorDia"  IsChecked="{Binding WFConsolidadoItem.AplicaMontoMaximoPorDia, Converter={localConv:BooleanConverter}}" HorizontalAlignment="Center" Margin="10,5,10,0"  VerticalAlignment="Top"  />
                                                    <Syncfusion:DoubleTextBox x:Name="MontoMaximoPorDia" HorizontalAlignment="Stretch"  Margin="10,0,10,0" NumberGroupSeparator="," NumberDecimalDigits="2" NumberDecimalSeparator="." TextWrapping="Wrap" Text="DoubleTextBox" Value="{Binding WFConsolidadoItem.MontoMaximoPorDia, Converter={StaticResource DecimalNullableConverter}}" VerticalAlignment="Top"  IsScrollingOnCircle="False" 
                                                                                  Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"
                                                                                  IsReadOnly="{cbind:Binding !BoolBindingExpression[APLICAMONTOMAXIMOPORDIA]}"/>
                                                </WrapPanel>
                                                <TextBlock Style="{DynamicResource TextErrorStyleTemplate}"  Text="{Binding (Validation.Errors), Converter={localConv:ValidationErrorConverter}, ConverterParameter=0, ElementName=MontoMaximoPorDia}"  Margin="0,0,0,0"/>
                                            </StackPanel>


                                            <StackPanel  MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=3.5*x/12.5}"  Height="65">
                                                <WrapPanel>
                                                    <Button MinWidth="40" Margin="10,10,20,0" Padding="4,2,4,2"
                                                            x:Name="ActualizarMontoMaximoDia" Content="Aplicar monto maximo dia"  Background="LightGreen"/>

                                                </WrapPanel>

                                            </StackPanel>


                                        </WrapPanel>






                                    </WrapPanel>
                                </Border>
                            </StackPanel>
                        </WrapPanel>


                    </StackPanel>
                    
                </ScrollViewer>

                <DockPanel DockPanel.Dock="Bottom" 
                           Height="{Binding ElementName=MainPanel, Path=ActualHeight, Converter={localConv:MathConverter}, ConverterParameter=7.5*x/12.5}">

                    <TabControl DockPanel.Dock="Top" 
                           Height="{Binding ElementName=MainPanel, Path=ActualHeight, Converter={localConv:MathConverter}, ConverterParameter=6.5*x/12.5}"
                                Template="{DynamicResource TabControlControlTemplate1}" 
                                Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=12.5*x/12.5}">


                        <TabItem HorizontalAlignment="Stretch" Margin="0,0,0,10" Header="Consolidado">
                            <StackPanel VerticalAlignment="Top" HorizontalAlignment="Left">


                                <Syncfusion:SfDataGrid x:Name="PorconsolidarGridView" 
                      ItemsSource="{Binding PorconsolidarItems}" 
                      RowStyle="{StaticResource customCellStyle}"
                       AllowFiltering="True"
                       FilterPopupStyle="{StaticResource filterControlStyle}"
                      Margin="2,2,2,2"  AutoGenerateColumns="False" Background="#FFFFFFFF" IsReadOnly="True"  RowHeight="35" HorizontalAlignment="Left"   
                                   MinWidth="100" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}"
                       Height="{Binding ElementName=MainPanel, Path=ActualHeight, Converter={localConv:MathConverter}, ConverterParameter=42*x/60}" MinHeight="150"  >
                                    <Syncfusion:SfDataGrid.Columns>

                                        <Syncfusion:GridTextColumn  MappingName="Fecha" HeaderText="Fecha" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Id" HeaderText="Id" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Tipodoctonombre" HeaderText="Tipo documento" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Folio" HeaderText="Folio" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Serie" HeaderText="Serie" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Nombretipoaplicacion" HeaderText="Tipo aplicacion" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Importe" HeaderText="Importe" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Descuento" HeaderText="Descuento" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Subtotal" HeaderText="Subtotal" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Iva" HeaderText="Iva" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Ieps" HeaderText="Ieps" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Impuesto" HeaderText="Impuesto" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Total" HeaderText="Total" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Saldo" HeaderText="Saldo" ColumnSizer="SizeToHeader"/>

                                    </Syncfusion:SfDataGrid.Columns>
                                </Syncfusion:SfDataGrid>


                                <Syncfusion:SfDataGrid x:Name="PorconsolidarsumaGridView" 
                      ItemsSource="{Binding PorconsolidarsumaItems}" 
                      RowStyle="{StaticResource customCellStyle}"
                       AllowFiltering="True"
                       FilterPopupStyle="{StaticResource filterControlStyle}"
                      Margin="2,2,2,2"  AutoGenerateColumns="False" Background="#FFFFFFFF" IsReadOnly="True"  RowHeight="35" HorizontalAlignment="Left"   
                                   MinWidth="100" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}"
                       Height="{Binding ElementName=MainPanel, Path=ActualHeight, Converter={localConv:MathConverter}, ConverterParameter=42*x/60}" MinHeight="150"  >
                                    <Syncfusion:SfDataGrid.Columns>

                                        <Syncfusion:GridTextColumn  MappingName="Cuenta" HeaderText="Cuenta" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Importe" HeaderText="Importe" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Descuento" HeaderText="Descuento" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Subtotal" HeaderText="Subtotal" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Iva" HeaderText="Iva" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Ieps" HeaderText="Ieps" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Impuesto" HeaderText="Impuesto" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Saldo" HeaderText="Saldo" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Total" HeaderText="Total" ColumnSizer="SizeToHeader"/>

                                    </Syncfusion:SfDataGrid.Columns>
                                </Syncfusion:SfDataGrid>

                            </StackPanel>
                        </TabItem>

                        <TabItem HorizontalAlignment="Stretch" Margin="0,0,0,10" Header="Facturacion por dia">
                            <StackPanel VerticalAlignment="Top" HorizontalAlignment="Left">


                                <Syncfusion:SfDataGrid x:Name="TablefechamontoGridView" 
                      ItemsSource="{Binding TablefechamontoItems}" 
                      RowStyle="{StaticResource customCellStyle}"
                       AllowFiltering="True"
                       FilterPopupStyle="{StaticResource filterControlStyle}"
                      Margin="2,2,2,2"  AutoGenerateColumns="False" Background="#FFFFFFFF" IsReadOnly="True"  RowHeight="35" HorizontalAlignment="Left"   
                                   MinWidth="100" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}"
                       Height="{Binding ElementName=MainPanel, Path=ActualHeight, Converter={localConv:MathConverter}, ConverterParameter=42*x/60}" MinHeight="150"  >
                                    <Syncfusion:SfDataGrid.Columns>

                                        <Syncfusion:GridTextColumn  MappingName="Fecha" HeaderText="Fecha" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Aplicamontomaximo" HeaderText="Aplica monto maximo" ColumnSizer="SizeToHeader"/>

                                        <Syncfusion:GridTextColumn  MappingName="Monto" HeaderText="Monto" ColumnSizer="SizeToHeader"/>

                                    </Syncfusion:SfDataGrid.Columns>
                                </Syncfusion:SfDataGrid>

                            </StackPanel>
                        </TabItem>

                    </TabControl>


                    <WrapPanel DockPanel.Dock="Bottom" 
                               Height="{Binding ElementName=MainPanel, Path=ActualHeight, Converter={localConv:MathConverter}, ConverterParameter=1*x/12.5}"
                               HorizontalAlignment="Center" Orientation="Horizontal" Margin="6" MinWidth="110" Width="{Binding ElementName=MainPanel, Path=ActualWidth, Converter={localConv:MathConverter}, ConverterParameter=x}">
                        <Rectangle  Width="120"/>
                        <Rectangle  Width="120"/>
                        <Button MinWidth="120" Margin="6" Padding="6"
                    x:Name="Consolidar" Content="Consolidar"  Foreground="WhiteSmoke"/>
                        <Rectangle  Width="120"/>
                        <Button MinWidth="120" Margin="6" Padding="6"
                    x:Name="Cancel"
                    Content="Cancelar"  Background="LightGray"/>

                    </WrapPanel>

                </DockPanel>



            </DockPanel>
        </ac:AdornedControl>

    </WrapPanel>
</UserControl>


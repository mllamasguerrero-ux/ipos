<?xml version="1.0" encoding="utf-8"?>
<Report ScriptLanguage="CSharp" ReportInfo.Created="05/06/2014 21:00:03" ReportInfo.Modified="09/07/2016 12:59:38" ReportInfo.CreatorVersion="2013.3.2.0">
  <ScriptText>using System;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Windows.Forms;
using System.Drawing;
using System.Data;
using FastReport;
using FastReport.Data;
using FastReport.Dialog;
using FastReport.Barcode;
using FastReport.Table;
using FastReport.Utils;

namespace FastReport
{
  
  public class TextPositions
  {
       public TextObject textField;
       public float initialX;
       public string strField;
    public TextPositions(ref TextObject p_textField)
    {
      textField = p_textField;
      initialX = p_textField.Left;
    }
    
    public TextPositions(ref TextObject p_textField, string p_strField)
    {
      textField = p_textField;
      initialX = p_textField.Left;
      strField = p_strField;
    }
    
    
    
  }
  
  public class ReportScript
  {
     
   /* static float posicionInicioTextFlex;
    static TextPositions[] textFlex;    
    static TextPositions[] textIEPSPorc;    */
    
         
   /* private void ReportTitle1_BeforePrint(object sender, EventArgs e)
    {      
      
                        
      
      /*textIEPSPorc = new TextPositions[10]
        {
        new TextPositions(ref Text45,&quot;Table.IEPS_01_PORC&quot;), 
        new TextPositions(ref Text47,&quot;Table.IEPS_02_PORC&quot;), 
        new TextPositions(ref Text49,&quot;Table.IEPS_03_PORC&quot;), 
        new TextPositions(ref Text51,&quot;Table.IEPS_04_PORC&quot;), 
        new TextPositions(ref Text53,&quot;Table.IEPS_05_PORC&quot;), 
        new TextPositions(ref Text55,&quot;Table.IEPS_06_PORC&quot;),
        new TextPositions(ref Text57,&quot;Table.IEPS_07_PORC&quot;), 
        new TextPositions(ref Text59,&quot;Table.IEPS_08_PORC&quot;),
        new TextPositions(ref Text61,&quot;Table.IEPS_09_PORC&quot;), 
        new TextPositions(ref Text63,&quot;Table.IEPS_10_PORC&quot;)          
        };          */
      
      
      /*textFlex = new TextPositions[11]
        {
        new TextPositions(ref Text65), 
        new TextPositions(ref Text66),  
        new TextPositions(ref Text17), 
        new TextPositions(ref Text18), 
        new TextPositions(ref Text19), 
        new TextPositions(ref Text20), 
        //new TextPositions(ref Text80), 
        new TextPositions(ref Text81), 
        new TextPositions(ref Text21), 
        new TextPositions(ref Text22), 
        new TextPositions(ref Text23), 
        new TextPositions(ref Text24), 
        new TextPositions(ref Text25), 
        new TextPositions(ref Text26), 
       // new TextPositions(ref Text27), 
        //new TextPositions(ref Text28), 
        //new TextPositions(ref Text29), 
       /*- new TextPositions(ref Text30), 
        new TextPositions(ref Text31), 
        new TextPositions(ref Text32), 
        new TextPositions(ref Text33), 
        new TextPositions(ref Text34), 
        new TextPositions(ref Text35), 
        new TextPositions(ref Text36), 
        new TextPositions(ref Text37), 
        new TextPositions(ref Text38), 
        new TextPositions(ref Text39), 
        new TextPositions(ref Text40), 
        new TextPositions(ref Text41), 
        new TextPositions(ref Text42), 
        new TextPositions(ref Text43), 
        new TextPositions(ref Text44), 
        new TextPositions(ref Text87), 
        new TextPositions(ref Text88)    
        };  
      
        posicionInicioTextFlex = textFlex[0].initialX;   
    }*/
    
    
   /* private void AjustarCampos()
    {
      float lastIEPSPorcX = posicionInicioTextFlex;
             
      
      foreach(TextPositions tp in textIEPSPorc)
      {
         if( ((Decimal)Report.GetColumnValue(tp.strField)) == -1)
        {
          lastIEPSPorcX = tp.initialX;
          break;
        }
      }                 
      foreach(TextPositions tp in textFlex)
      {
        if(tp.initialX &gt;= posicionInicioTextFlex)
        {
              tp.textField.Left = tp.initialX - (posicionInicioTextFlex - lastIEPSPorcX);
          
        }
      }     
    
    }
    
              */
    
    
    
              
        

    private void Text15_BeforePrint(object sender, EventArgs e)
    {     
      //MessageBox.Show(Report.GetColumnValue(&quot;Table.IEPS_01_PORC&quot;).ToString());
      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_01_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_01_IMPORTE&quot;)).ToString();
        return;
      }     
      else if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_02_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_02_IMPORTE&quot;)).ToString();
        return;
      }
      else if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_03_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_03_IMPORTE&quot;)).ToString();
        return;
      }
      
      
      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_04_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_04_IMPORTE&quot;)).ToString();
        return;
      }
      
      
      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_05_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_05_IMPORTE&quot;)).ToString();
        return;
      }
      
      
      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_06_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_06_IMPORTE&quot;)).ToString();
        return;
      }
      
      

      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_07_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_07_IMPORTE&quot;)).ToString();
        return;
      }
      
      
      
      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_08_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_08_IMPORTE&quot;)).ToString();
        return;
      }
      
      
      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_09_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_09_IMPORTE&quot;)).ToString();
        return;
      }
      
      
      if( ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_10_PORC&quot;)) == (Decimal)8.0)
      {
        Text15.Text = ((Decimal)Report.GetColumnValue(&quot;Table.IEPS_10_IMPORTE&quot;)).ToString();
        return;
      }
    }
  }
}
</ScriptText>
  <Dictionary>
    <FirebirdDataConnection Name="Connection" ConnectionString="rijcmlqDEsChHWgW5OFiwSyA3zls2mCAWDWIhtE3dZ3WRoD3RGa4fuV4MzKWm/7hfiVWbDFvOZVx8SOHX0gb5rmLrybnbvH2HsHWOfPgCFQoKr29izDhiy+8Awj/+LeDV/2ybkkaRwuppBeY+kFp2ZduFz9ukmt8r3ZpBQTvQ2TQEK+UUU=">
      <TableDataSource Name="Table" DataType="System.Int32" Enabled="true" SelectCommand="SELECT * FROM REP_VENTA_CONIEPS_EXP (&#13;&#10;    @FECHAINI ,&#13;&#10;    @FECHAFIN ,&#13;&#10;    @TIPODOCTOID ,&#13;&#10;    @ALMACENID ,&#13;&#10;    @VENDEDORID,&#13;&#10;    @STR_REMISIONFACTURA ) D&#13;&#10;&#13;&#10;     ORDER BY d.fecha  , D.FECHAHORA">
        <Column Name="NUMERO" DataType="System.Int32"/>
        <Column Name="FECHA" DataType="System.DateTime"/>
        <Column Name="FECHAHORA" DataType="System.DateTime"/>
        <Column Name="DOCTOFOLIO" DataType="System.Int32"/>
        <Column Name="IMPORTE" DataType="System.Decimal"/>
        <Column Name="DESCUENTO" DataType="System.Decimal"/>
        <Column Name="SUBTOTAL" DataType="System.Decimal"/>
        <Column Name="IVA" DataType="System.Decimal"/>
        <Column Name="TOTAL" DataType="System.Decimal"/>
        <Column Name="SUCURSALT" DataType="System.String"/>
        <Column Name="TIPODOC" DataType="System.String"/>
        <Column Name="SALDO" DataType="System.Decimal"/>
        <Column Name="ESTATUSDOCTONOMBRE" DataType="System.String"/>
        <Column Name="ESFACTURAELECTRONICA" DataType="System.String"/>
        <Column Name="SERIEFOLIOSAT" DataType="System.String"/>
        <Column Name="PERSONA" DataType="System.String"/>
        <Column Name="VENDEDOR" DataType="System.String"/>
        <Column Name="VENDEDORDELCLIENTEID" DataType="System.Int64"/>
        <Column Name="VENDEDORDELCLIENTENOMBRE" DataType="System.String"/>
        <Column Name="VENDEDORDELCLIENTECLAVE" DataType="System.String"/>
        <Column Name="IEPS" DataType="System.Decimal"/>
        <Column Name="IMPUESTO" DataType="System.Decimal"/>
        <Column Name="PERSONACLAVE" DataType="System.String"/>
        <Column Name="PERSONANOMBRES" DataType="System.String"/>
        <Column Name="PERSONAAPELLIDOS" DataType="System.String"/>
        <Column Name="FECHAVENCE" DataType="System.DateTime"/>
        <Column Name="IEPS_01_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_01_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_02_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_02_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_03_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_03_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_04_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_04_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_05_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_05_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_06_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_06_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_07_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_07_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_08_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_08_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_09_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_09_PORC" DataType="System.Decimal"/>
        <Column Name="IEPS_10_IMPORTE" DataType="System.Decimal"/>
        <Column Name="IEPS_10_PORC" DataType="System.Decimal"/>
        <Column Name="NOMBREALMACEN" DataType="System.String"/>
        <Column Name="ESTATUS" DataType="System.String"/>
        <Column Name="SUMACOSTOPROMEDIO" DataType="System.Decimal"/>
        <Column Name="TURNOCLAVE" DataType="System.String"/>
        <Column Name="DOCTOID" DataType="System.Int64"/>
        <Column Name="DOCTOREFKITID" DataType="System.Int64"/>
        <Column Name="ALMACENTID" DataType="System.Int64"/>
        <Column Name="NOMBREALMACENTRASPASO" DataType="System.String"/>
        <Column Name="MONTOREBAJA" DataType="System.Decimal"/>
        <Column Name="SUBTOTALIVA0" DataType="System.Decimal"/>
        <Column Name="SUBTOTALIVA16" DataType="System.Decimal"/>
        <Column Name="SUBTOTALOTROIVA" DataType="System.Decimal"/>
        <CommandParameter Name="FECHAINI" DataType="5" Expression="[FECHAINI]" DefaultValue="01/01/2001"/>
        <CommandParameter Name="FECHAFIN" DataType="5" Expression="[FECHAFIN]" DefaultValue="01/01/2001"/>
        <CommandParameter Name="TIPODOCTOID" DataType="1" Expression="[TIPODOCTOID]" DefaultValue="21"/>
        <CommandParameter Name="VENDEDORID" DataType="1" Expression="[VENDEDORID]" DefaultValue="0"/>
        <CommandParameter Name="ALMACENID" DataType="1" Expression="[ALMACENID]" DefaultValue="0"/>
        <CommandParameter Name="STR_REMISIONFACTURA" DataType="16" Size="64" Expression="[REMISIONFACTURA]" DefaultValue="T"/>
      </TableDataSource>
    </FirebirdDataConnection>    <Parameter Name="US_ID" DataType="System.Decimal"/>    <Parameter Name="US_NAME" DataType="System.String"/>
    <Parameter Name="FECHAINI" DataType="System.DateTime"/>
    <Parameter Name="FECHAFIN" DataType="System.DateTime"/>
    <Parameter Name="TIPODOCTOID" DataType="System.Decimal"/>
    <Parameter Name="TIPODOCTONOMBRE" DataType="System.String"/>
    <Parameter Name="VENDEDORID" DataType="System.Decimal"/>
    <Parameter Name="VENDEDORNOMBRE" DataType="System.String"/>
    <Parameter Name="ALMACENID" DataType="System.Decimal"/>
    <Parameter Name="NOMBREALMACEN" DataType="System.String"/>
    <Parameter Name="REMISIONFACTURA" DataType="System.String"/>
    <Parameter Name="REMISIONFACTURADESC" DataType="System.String"/>
    <Parameter Name="Parameter" DataType="System.String"/>
    <Parameter Name="SUBTOTAL0" DataType="System.Decimal"/>
  </Dictionary>
  <ReportPage Name="Page1" PaperWidth="450" FirstPageSource="15" OtherPagesSource="15">
    <ReportTitleBand Name="ReportTitle1" Width="1625.4" Height="122.85" BeforePrintEvent="ReportTitle1_BeforePrint">
      <TextObject Name="Text67" Left="217.35" Top="9.45" Width="529.2" Height="28.35" Text="REPORTE DE VENTAS CON SUBTOTALES" Font="Arial, 18pt, style=Bold"/>
      <TextObject Name="Text68" Left="160.65" Top="37.8" Width="94.5" Height="18.9" Text="De la fecha:" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text69" Left="510.3" Top="37.8" Width="94.5" Height="18.9" Text="a:" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text70" Left="160.65" Top="66.15" Width="94.5" Height="18.9" Text="Del tipo:" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text71" Left="264.6" Top="37.8" Width="132.3" Height="18.9" Text="[FECHAINI]" Format="Date" Format.Format="d" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text72" Left="633.15" Top="37.8" Width="170.1" Height="18.9" Text="[FECHAFIN]" Format="Date" Format.Format="d" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text73" Left="264.6" Top="66.15" Width="226.8" Height="18.9" Text="[TIPODOCTONOMBRE]" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text74" Left="916.65" Top="18.9" Width="94.5" Height="18.9" Text="[Date]" Format="Date" Format.Format="d" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text75" Left="510.3" Top="66.15" Width="94.5" Height="18.9" Text="Cajero:" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text76" Left="633.15" Top="66.15" Width="160.65" Height="18.9" Text="[VENDEDORNOMBRE]" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text81" Left="160.65" Top="94.5" Width="94.5" Height="18.9" Text="Del almacen:" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text82" Left="264.6" Top="94.5" Width="226.8" Height="18.9" Text="[NOMBREALMACEN]" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text85" Left="510.3" Top="94.5" Width="94.5" Height="18.9" Text="Rem./Fact.:" Font="Arial, 10pt, style=Bold"/>
      <TextObject Name="Text86" Left="633.15" Top="94.5" Width="160.65" Height="18.9" Text="[REMISIONFACTURADESC]" Font="Arial, 10pt, style=Bold"/>
    </ReportTitleBand>
    <PageHeaderBand Name="PageHeader1" Top="126.85" Width="1625.4" Height="37.8">
      <TextObject Name="Text2" Left="302.4" Width="94.5" Height="18.9" Text="TIPO" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text4" Left="396.9" Width="94.5" Height="18.9" Text="FECHA" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text6" Left="595.35" Width="94.5" Height="18.9" Text="ALMACEN" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text84" Left="491.4" Width="103.95" Height="18.9" Text="HORA" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text8" Width="94.5" Height="18.9" Text="CLIENTE" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text10" Left="94.5" Width="103.95" Height="18.9" Text="NOMBRE" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text12" Left="198.45" Width="103.95" Height="18.9" Text="APELLIDOS" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text14" Left="689.85" Width="94.5" Height="18.9" Text="FOLIO" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text16" Left="1181.25" Width="94.5" Height="18.9" Text="IEPS8" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text18" Left="1086.75" Width="94.5" Height="18.9" Text="IVA" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text20" Left="1275.75" Width="94.5" Height="18.9" Text="TOTAL" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text22" Left="784.35" Width="103.95" Height="28.35" Text="SUBTOTAL IVA 0" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text24" Left="888.3" Width="103.95" Height="28.35" Text="SUBTOTAL IVA 16" Font="Arial, 8pt, style=Bold"/>
      <TextObject Name="Text26" Left="992.25" Width="94.5" Height="28.35" Text="SUBTOTAL OTRO IVA" Font="Arial, 8pt, style=Bold"/>
    </PageHeaderBand>
    <DataBand Name="Data1" Top="168.65" Width="1625.4" Height="18.9" DataSource="Table">
      <TextObject Name="Text1" Left="302.4" Width="94.5" Height="18.9" Text="[Table.TIPODOC]" Font="Arial, 8pt"/>
      <TextObject Name="Text3" Left="396.9" Width="94.5" Height="18.9" Text="[Table.FECHA]" Format="Date" Format.Format="d" Font="Arial, 8pt"/>
      <TextObject Name="Text5" Left="595.35" Width="94.5" Height="18.9" Text="[Table.NOMBREALMACEN]" Font="Arial, 8pt"/>
      <TextObject Name="Text83" Left="491.4" Width="103.95" Height="18.9" Text="[Table.FECHAHORA]" Format="Time" Format.Format="t" Font="Arial, 8pt"/>
      <TextObject Name="Text7" Width="94.5" Height="18.9" Text="[Table.PERSONACLAVE]" Font="Arial, 8pt"/>
      <TextObject Name="Text9" Left="94.5" Width="103.95" Height="18.9" Text="[Table.PERSONANOMBRES]" Font="Arial, 8pt"/>
      <TextObject Name="Text11" Left="198.45" Width="103.95" Height="18.9" Text="[Table.PERSONAAPELLIDOS]" Font="Arial, 8pt"/>
      <TextObject Name="Text13" Left="689.85" Width="94.5" Height="18.9" Text="[Table.DOCTOFOLIO]" Font="Arial, 8pt"/>
      <TextObject Name="Text15" Left="1181.25" Width="94.5" Height="18.9" BeforePrintEvent="Text15_BeforePrint" Text="0" Format="Currency" Format.UseLocale="true" HorzAlign="Right" WordWrap="false" Font="Arial, 8pt" Trimming="EllipsisCharacter"/>
      <TextObject Name="Text17" Left="1086.75" Width="94.5" Height="18.9" Text="[Table.IVA]" Format="Currency" Format.UseLocale="true" WordWrap="false" Font="Arial, 8pt" Trimming="EllipsisCharacter"/>
      <TextObject Name="Text19" Left="1275.75" Width="94.5" Height="18.9" Text="[Table.TOTAL]" Format="Currency" Format.UseLocale="true" WordWrap="false" Font="Arial, 8pt" Trimming="EllipsisCharacter"/>
      <TextObject Name="Text21" Left="784.35" Width="103.95" Height="18.9" Text="[Table.SUBTOTALIVA0]" Format="Currency" Format.UseLocale="true" HorzAlign="Right" WordWrap="false" Font="Arial, 8pt" Trimming="EllipsisCharacter"/>
      <TextObject Name="Text23" Left="888.3" Width="103.95" Height="18.9" Text="[Table.SUBTOTALIVA16]" Format="Currency" Format.UseLocale="true" HorzAlign="Right" WordWrap="false" Font="Arial, 8pt" Trimming="EllipsisCharacter"/>
      <TextObject Name="Text25" Left="992.25" Width="94.5" Height="18.9" Text="[Table.SUBTOTALOTROIVA]" Format="Currency" Format.UseLocale="true" HorzAlign="Right" WordWrap="false" Font="Arial, 8pt" Trimming="EllipsisCharacter"/>
    </DataBand>
    <PageFooterBand Name="PageFooter1" Top="191.55" Width="1625.4" Height="18.9"> <TextObject Name="TextFooterGeneral2" Left="151.2" Width="66.15" Height="18.9" PrintOn="LastPage, OddPages, EvenPages, RepeatedBand, SinglePage" Text="[Date]" Format="Date" Format.Format="d" Font="Arial, 8pt, style=Bold"/> <TextObject Name="TextFooterGeneral3" Left="217.35" Width="151.2" Height="18.9" CanShrink="true" PrintOn="LastPage, OddPages, EvenPages, RepeatedBand, SinglePage" CanBreak="false" Text="[Date]" Format="Time" Format.Format="T" WordWrap="false" Font="Arial, 8pt, style=Bold"/> <TextObject Name="TextFooterGeneral1" Left="9.45" Width="141.75" Height="18.9" CanShrink="true" CanBreak="false" Text="Power by I-POS" HorzAlign="Center" WordWrap="false" Font="Arial, 8pt, style=Bold"/> <TextObject Name="TextFooterGeneral4" Left="368.55" Width="94.5" Height="18.9" Text="[US_NAME]" Font="Arial, 8pt, style=Bold"/> </PageFooterBand>
  </ReportPage>
</Report>

create or alter procedure HAY_CORTE_ACTIVO (
    CAJEROID D_FK)
returns (
    FECHACORTE D_FECHA,
    HAYCORTEACTIVO D_BOOLCN,
    CORTEID D_FK,
    ERRORCODE D_ERRORCODE)
as
BEGIN



   SELECT CORTEID
   FROM PERSONA
   WHERE ID = :CAJEROID
   INTO :CORTEID ;

   SELECT   FECHACORTE
   FROM CORTE
   WHERE ID = :CORTEID  AND ACTIVO = 'S'
   INTO   :FECHACORTE;


   IF (:CORTEID IS NULL) THEN
   BEGIN
      ERRORCODE = 1001;
      HAYCORTEACTIVO = 'N';
   END
   ELSE
   BEGIN
      ERRORCODE = 0;
      HAYCORTEACTIVO = 'S';
   END

   SUSPEND;
END

create or alter procedure CORTE_REMISIONAR_PEND_BANCOMER (
    CORTEID D_FK)
returns (
    ERRORCODE D_ERRORCODE)
as
declare variable DOCTOID D_FK;
BEGIN

   FOR
    SELECT ID FROM DOCTO WHERE CORTEID = :CORTEID AND ESTATUSDOCTOID = 0
    AND COALESCE(PAGOBANCOMERAPLICADO,'N') = 'S'
    AND TIPODOCTOID = 21
    INTO :DOCTOID
    DO
    BEGIN
      UPDATE DOCTO SET ESFACTURAELECTRONICA = 'N', ORIGENFISCALID = 2 WHERE ID = :DOCTOID;
      SELECT ERRORCODE FROM DOCTO_SAVE(:DOCTOID) INTO :ERRORCODE;

      IF(COALESCE(:ERRORCODE ,0) <> 0) THEN
      BEGIN
       SUSPEND;
       EXIT;
      END


    END



   ERRORCODE = 0;
   SUSPEND;

   WHEN ANY DO
   BEGIN
      ERRORCODE = 1025;
      SUSPEND;
   END 
END
CREATE OR ALTER VIEW VEHICULO_VIEW(
    ID,
    ACTIVO,
    BUSQUEDASTRING,
    CREADO,
    CREADOPOR_USERID,
    MODIFICADO,
    MODIFICADOPOR_USERID,
    SAT_TIPOPERMISOID,
    NUMPERMISOSCT,
    SAT_CONFIGAUTOTRANSPORTEID,
    PLACAVM,
    ANIOMODELOVM,
    ASEGURARESPCIVIL,
    POLIZARESPCIVIL,
    ASEGURAMEDAMBIENTE,
    POLIZAMEDAMBIENTE,
    ASEGURACARGA,
    POLIZACARGA,
    PRIMASEGURO,
    SAT_SUBTIPOREM1ID,
    PLACA1,
    SAT_SUBTIPOREM2ID,
    PLACA2,
    SAT_TIPOPERMISO_CLAVE,
    SAT_TIPOPERMISO_DESC,
    SAT_CONFIGAUTOTRANSPORTE_CLAVE,
    SAT_CONFIGAUTOTRANSPORTE_DESC,
    SAT_SUBTIPOREM1_CLAVE,
    SAT_SUBTIPOREM1_DESC,
    SAT_SUBTIPOREM2_CLAVE,
    SAT_SUBTIPOREM2_DESC)
AS
SELECT
    V.ID,
    V.ACTIVO                      ,  
    COALESCE(TRIM(V.NUMPERMISOSCT ), '') ||  COALESCE(TRIM(V.PLACAVM), '') ||  COALESCE(TRIM(V.ANIOMODELOVM), '') BUSQUEDASTRING,
    V.CREADO                      ,
    V.CREADOPOR_USERID            ,
    V.MODIFICADO                  ,
    V.MODIFICADOPOR_USERID        ,
    V.SAT_TIPOPERMISOID           ,
    V.NUMPERMISOSCT               ,
    V.SAT_CONFIGAUTOTRANSPORTEID  ,
    V.PLACAVM                     ,
    V.ANIOMODELOVM                ,
    V.ASEGURARESPCIVIL            ,
    V.POLIZARESPCIVIL             ,
    V.ASEGURAMEDAMBIENTE          ,
    V.POLIZAMEDAMBIENTE           ,
    V.ASEGURACARGA                ,
    V.POLIZACARGA                 ,
    V.PRIMASEGURO                 ,
    V.SAT_SUBTIPOREM1ID          ,
    V.PLACA1                      ,
    V.SAT_SUBTIPOREM2ID           ,
    V.PLACA2  ,
    STP.CLAVE  SAT_TIPOPERMISO_CLAVE,
    STP.DESCRIPCION SAT_TIPOPERMISO_DESC,
    SCAT.CLAVE SAT_CONFIGAUTOTRANSPORTE_CLAVE ,
    SCAT.DESCRIPCION SAT_CONFIGAUTOTRANSPORTE_DESC,
    STR1.CLAVE SAT_SUBTIPOREM1_CLAVE,
    STR1.DESCRIPCION SAT_SUBTIPOREM1_DESC,
    STR2.CLAVE SAT_SUBTIPOREM2_CLAVE,
    STR2.DESCRIPCION SAT_SUBTIPOREM2_DESC

  FROM VEHICULO V
  LEFT JOIN sat_tipopermiso STP ON STP.ID = V.sat_tipopermisoid 
  LEFT JOIN SAT_CONFIGAUTOTRANSPORTE SCAT ON SCAT.ID = V.SAT_CONFIGAUTOTRANSPORTEID
  LEFT JOIN SAT_SUBTIPOREM STR1 ON STR1.ID = V.SAT_SUBTIPOREM1ID
  LEFT JOIN SAT_SUBTIPOREM STR2 ON STR2.ID = V.SAT_SUBTIPOREM2ID

  ORDER BY V.ID
;
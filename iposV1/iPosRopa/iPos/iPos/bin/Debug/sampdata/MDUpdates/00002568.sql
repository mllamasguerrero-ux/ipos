create or alter procedure MOVILPROCESOSURTIDOUPDATE
returns (
    ERRORCODE D_ERRORCODE)
as
declare variable CUENTA integer;
BEGIN

   SELECT COUNT(*) FROM DOCTO
   WHERE TIPODOCTOID = 21 AND SUBTIPODOCTOID = 15 AND ESTATUSDOCTOID = 1 AND COALESCE(PROCESOSURTIDO,'N') = 'N'
   INTO :CUENTA;

   IF(:CUENTA > 0) THEN
   BEGIN
       UPDATE PARAMETRO SET MOVILPROCESOSURTIDO = 'N';

   END
   ELSE
   BEGIN
        UPDATE PARAMETRO SET MOVILPROCESOSURTIDO = 'S';
   END

   ERRORCODE = 0;
   SUSPEND;
      /*
    WHEN ANY DO
    BEGIN
        ERRORCODE = 1009;
        SUSPEND;
    END  */
END
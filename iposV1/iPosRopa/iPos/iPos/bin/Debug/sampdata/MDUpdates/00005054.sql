create or alter procedure DOCTOPAGO_INSERT (
    DOCTOID D_FK,
    FORMAPAGOID D_FK,
    FECHA D_FECHA,
    FECHAHORA D_TIMESTAMP,
    CORTEID D_FK,
    IMPORTE D_IMPORTE,
    IMPORTERECIBIDO D_IMPORTE,
    IMPORTECAMBIO D_IMPORTE,
    TIPOPAGOID D_FK,
    DOCTOSALIDAID D_FK,
    ESAPARTADO D_BOOLCN,
    TIPOAPLICACIONCREDITOID D_FK,
    BANCO D_FK,
    REFERENCIABANCARIA D_STDTEXT_LIGHT,
    NOTAS D_STDTEXT_MEDIUM,
    FECHAELABORACION D_FECHA,
    FECHARECEPCION D_FECHA,
    ESPAGOINICIAL D_BOOLCN,
    TIPOABONOID D_FK,
    DOCTOPAGOREFID D_FK,
    FORMAPAGOSATID D_FK,
    BANCOMERPARAMID D_FK,
    COMISION D_IMPORTE)
returns (
    DOCTOPAGOID D_FK,
    ERRORCODE D_ERRORCODE)
as
declare variable CUENTABANCOEMPRESAID D_FK;
BEGIN

    SELECT FIRST 1 ID FROM CUENTABANCO ORDER BY PREDETERMINADA DESC INTO :CUENTABANCOEMPRESAID;

    SELECT DOCTOPAGOID , ERRORCODE
    FROM    DOCTOPAGO_INSERT_PLUS (
    :DOCTOID ,
    :FORMAPAGOID ,
    :FECHA ,
    :FECHAHORA ,
    :CORTEID ,
    :IMPORTE ,
    :IMPORTERECIBIDO ,
    :IMPORTECAMBIO ,
    :TIPOPAGOID ,
    :DOCTOSALIDAID ,
    :ESAPARTADO ,
    :TIPOAPLICACIONCREDITOID ,
    :BANCO ,
    :REFERENCIABANCARIA ,
    :NOTAS ,
    :FECHAELABORACION ,
    :FECHARECEPCION ,
    :ESPAGOINICIAL ,
    :TIPOABONOID ,
    :DOCTOPAGOREFID ,
    :FORMAPAGOSATID ,
    :BANCOMERPARAMID ,
    :COMISION ,
    NULL,
    :CUENTABANCOEMPRESAID)
    INTO :DOCTOPAGOID, :ERRORCODE;

    SUSPEND;

END
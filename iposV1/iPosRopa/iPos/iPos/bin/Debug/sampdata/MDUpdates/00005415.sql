create or alter procedure LISTAPRECIO_CARGARTODOS (
    LISTAPRECIOID D_FK)
returns (
    ERRORCODE D_ERRORCODE)
as
BEGIN


  DELETE FROM LISTAPRECIODETALLE WHERE LISTAPRECIOID = :LISTAPRECIOID;

  INSERT INTO LISTAPRECIODETALLE
  (LISTAPRECIOID, ACTIVO, PRODUCTOID, PRECIO1, PRECIO2, PRECIO3, PRECIO4, PRECIO5, PRECIO6)
  SELECT :LISTAPRECIOID, 'S', ID , PRECIO1, PRECIO2, PRECIO3, PRECIO4, PRECIO5, PRECIO6
    FROM PRODUCTO WHERE COALESCE(PRODUCTO.emidaproductoid,0) = 0;

   ERRORCODE = 0;
   SUSPEND;


   WHEN ANY DO
    BEGIN
        ERRORCODE = 1009;
        SUSPEND;
    END
END

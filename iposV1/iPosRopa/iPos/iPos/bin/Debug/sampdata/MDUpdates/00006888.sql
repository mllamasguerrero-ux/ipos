CREATE OR ALTER VIEW ANAQUEL_VIEW(
    ID,
    BUSQUEDASTRING,
    ACTIVO,
    CREADO,
    CREADOPOR_USERID,
    MODIFICADO,
    MODIFICADOPOR_USERID,
    CLAVE,
    NOMBRE,
    ALMACENCLAVE,
    ALMACENNOMBRE)
AS
SELECT
    ANAQUEL.ID,
    COALESCE(TRIM(ANAQUEL.CLAVE), '') ||  COALESCE(TRIM(ANAQUEL.NOMBRE), '') BUSQUEDASTRING,
    ANAQUEL.ACTIVO,
    ANAQUEL.CREADO,
    ANAQUEL.CREADOPOR_USERID,
    ANAQUEL.MODIFICADO,
    ANAQUEL.MODIFICADOPOR_USERID,
    ANAQUEL.CLAVE,
    ANAQUEL.NOMBRE ,
    ALMACEN.CLAVE ALMACENCLAVE,
    ALMACEN.NOMBRE ALMACENNOMBRE

  FROM ANAQUEL
  LEFT JOIN ALMACEN ON ALMACEN.ID = ANAQUEL.almacenid
  ORDER BY ANAQUEL.CLAVE
;
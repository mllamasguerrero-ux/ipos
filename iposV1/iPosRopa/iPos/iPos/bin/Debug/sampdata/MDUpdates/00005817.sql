create or alter procedure PAGO_CAMBIARAPLICADO (
    IDANT D_FK,
    APLICADO D_BOOLCN,
    FECHAAPLICADO D_FECHA,
    MOTIVO_CAMFEC_ID D_FK)
returns (
    ERRORCODE D_ERRORCODE)
as
BEGIN


    
  update  PAGO
  set

        APLICADO = :APLICADO,
        FECHAAPLICADO = :FECHAAPLICADO,
        MOTIVO_CAMFEC_ID = :MOTIVO_CAMFEC_ID
  where ID=:IDAnt ;


  UPDATE DOCTOPAGO SET APLICADO = :APLICADO, FECHAAPLICADO = :FECHAAPLICADO
  WHERE PAGOID = :IDAnt;

   ERRORCODE = 0;
   SUSPEND;
   
   WHEN ANY DO
   BEGIN
      ERRORCODE = 1012;
      SUSPEND;
   END
END
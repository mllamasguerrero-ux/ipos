CREATE OR ALTER VIEW PERSONACUENTABANCO_VIEW(
    ID,
    BUSQUEDASTRING,
    ACTIVO,
    CREADO,
    CREADOPOR_USERID,
    MODIFICADO,
    MODIFICADOPOR_USERID,
    NOMBREBANCO,
    NOCUENTA,
    BANCOID,
    PERSONAID)
AS
SELECT
    PERSONACUENTABANCO.ID,
    COALESCE(TRIM(BANCOS.nombre), '')  ||  COALESCE(TRIM(PERSONACUENTABANCO.NOCUENTA), '')  BUSQUEDASTRING,
    PERSONACUENTABANCO.ACTIVO,
    PERSONACUENTABANCO.CREADO,
    PERSONACUENTABANCO.CREADOPOR_USERID,
    PERSONACUENTABANCO.MODIFICADO,
    PERSONACUENTABANCO.MODIFICADOPOR_USERID,
    BANCOS.nombre NOMBREBANCO,
    PERSONACUENTABANCO.NOCUENTA ,
    PERSONACUENTABANCO.BANCOID ,
    PERSONACUENTABANCO.PERSONAID

  FROM PERSONACUENTABANCO
  LEFT JOIN BANCOS ON BANCOS.ID = PERSONACUENTABANCO.BANCOID
  ORDER BY NOMBRE
;
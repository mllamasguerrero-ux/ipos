create or alter procedure MATRIZPRINCIPAL
returns (
    CLAVEMATRIZ D_CLAVE_NULL,
    ERRORCODE D_ERRORCODE)
as
BEGIN

    ERRORCODE = 0;

   SELECT FIRST 1 SUCURSAL.CLAVE
   FROM SUCURSAL
   WHERE  COALESCE(ESMATRIZ,'N') = 'S' AND COALESCE(SURTIDOR,'') = ''
   INTO :CLAVEMATRIZ;

   SUSPEND;
END

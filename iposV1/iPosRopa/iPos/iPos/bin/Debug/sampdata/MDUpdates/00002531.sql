create or alter procedure CONTRARECIBODETAIL_DELETE (
    CONTRARECIBODTLID type of D_FK)
returns (
    ERRORCODE type of D_ERRORCODE)
as
declare variable ESTATUSID D_FK;
BEGIN


    
   IF ((:CONTRARECIBODTLID IS NULL) OR (:CONTRARECIBODTLID = 0)) THEN
   BEGIN
      ERRORCODE = 1002;
   END

    SELECT ESTATUSID FROM CONTRARECIBODTL WHERE ID = :CONTRARECIBODTLID INTO :ESTATUSID;


    IF(COALESCE(:ESTATUSID,-1) <> 0) THEN
    BEGIN
              errorcode = 1002;
              SUSPEND;
              EXIT;

    END


    DELETE FROM CONTRARECIBODTL WHERE ID = :CONTRARECIBODTLID;


   SUSPEND;
END
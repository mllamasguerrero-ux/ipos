CREATE OR ALTER TRIGGER REPLMOVTO_BI FOR REPLMOVTO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  IF ((NEW.REPLID IS NULL) OR (NEW.REPLID = 0)) THEN
    NEW.REPLID = GEN_ID(SEQ_REPLMOVTO, 1);
    
  IF (NEW.ACTIVO IS NULL) THEN
    NEW.ACTIVO = 'S';

  IF (NEW.CREADO IS NULL) THEN
    NEW.CREADO = CURRENT_TIMESTAMP;
    
  IF (NEW.REPLTIMECAMBIO IS NULL) THEN
    NEW.REPLTIMECAMBIO = CURRENT_TIMESTAMP;
    
   IF (NEW.FECHAHORA IS NULL) THEN
      NEW.FECHAHORA = CURRENT_TIMESTAMP;

   IF (NEW.FECHA IS NULL) THEN
      NEW.FECHA = CURRENT_DATE;
END
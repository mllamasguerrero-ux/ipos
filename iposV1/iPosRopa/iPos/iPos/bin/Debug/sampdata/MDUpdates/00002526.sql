CREATE OR ALTER TRIGGER CONTRARECIBODTL_AD0 FOR CONTRARECIBODTL
ACTIVE AFTER DELETE POSITION 0
AS      
   DECLARE VARIABLE ERRORCODE D_ERRORCODE;
begin
  /* Trigger text */
  
   IF ( 0 <> COALESCE(OLD.TOTAL,0) or
        0 <> COALESCE(OLD.SALDO,0) or
        0 <> COALESCE(OLD.ABONO,0)
      ) THEN
    BEGIN
         SELECT ERRORCODE
         FROM CONTRARECIBO_ACUMULAR_TOTALES( OLD.CONTRARECIBOID ) INTO :ERRORCODE;
    END
end
create or alter procedure ASIGNARTOTALESSINVALE_FECHAS (
    FECHAINICIAL D_FECHA,
    FECHAFINAL D_FECHA)
returns (
    ERRORCODE D_ERRORCODE)
as
declare variable DOCTOID D_FK;
BEGIN



   FOR SELECT DOCTO.ID FROM DOCTO WHERE TIPODOCTOID = 21 AND ESTATUSDOCTOID = 1
        AND DOCTO.FECHA >= :FECHAINICIAL AND DOCTO.FECHA <= :FECHAFINAL
        INTO :DOCTOID
        DO
        BEGIN
            
           SELECT ERRORCODE FROM ASIGNARTOTALESSINVALE(:DOCTOID) INTO :ERRORCODE;

        END


   ERRORCODE = 0;
   SUSPEND;

END
create or alter procedure BITACOBRANZAELIMINARDETALLE (
    BITCOBRANZAID D_FK)
returns (
    ERRORCODE D_ERRORCODE)
as
declare variable ESTADO D_FK;
BEGIN
    SELECT first 1 ESTADO FROM BITACOBRANZADET
    WHERE ID = :BITCOBRANZAID INTO :ESTADO;



   if(COALESCE(:ESTADO,1) NOT IN (0,1)) Then
   BEGIN

         ERRORCODE = 5004;
         SUSPEND;

   END


    DELETE FROM  BITACOBRANZADET WHERE ID = :BITCOBRANZAID;




   ERRORCODE = 0;
   SUSPEND;

   /*WHEN ANY DO
   BEGIN
      ERRORCODE = 1022;
      SUSPEND;
   END */
END
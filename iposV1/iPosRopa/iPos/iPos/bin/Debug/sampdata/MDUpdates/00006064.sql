create or alter procedure CORTE_ULTIMOFONDODINAMICO (
    CAJEROID D_FK)
returns (
    FONDODINAMICO D_IMPORTE,
    ERRORCODE D_ERRORCODE)
as
BEGIN
        
      SELECT FIRST 1 FONDODINAMICOFINAL
      FROM CORTE
      WHERE CAJEROID = :CAJEROID
      ORDER BY TERMINA DESC
      INTO :FONDODINAMICO;
      
   ERRORCODE = 0;
   SUSPEND;

   WHEN ANY DO
   BEGIN
      ERRORCODE = 1019;
      SUSPEND;
   END 
END
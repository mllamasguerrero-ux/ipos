CREATE OR ALTER VIEW PLAZO_VIEW(
    ID,
    BUSQUEDASTRING,
    ACTIVO,
    CREADO,
    CREADOPOR_USERID,
    MODIFICADO,
    MODIFICADOPOR_USERID,
    CLAVE,
    NOMBRE,
    COMISIONISTA,
    LEYENDA,
    ALMACENID,
    ALMACENCLAVE,
    ALMACENNOMBRE)
AS
SELECT
    PLAZO.ID,
    COALESCE(TRIM(PLAZO.CLAVE), '') ||  COALESCE(TRIM(PLAZO.NOMBRE), '') BUSQUEDASTRING,
    PLAZO.ACTIVO,
    PLAZO.CREADO,
    PLAZO.CREADOPOR_USERID,
    PLAZO.MODIFICADO,
    PLAZO.MODIFICADOPOR_USERID,
    PLAZO.CLAVE,
    PLAZO.NOMBRE,
    PLAZO.COMISIONISTA,
    PLAZO.LEYENDA ,
    PLAZO.ALMACENID,
    ALMACEN.CLAVE ALMACENCLAVE,
    ALMACEN.NOMBRE ALMACENNOMBRE

  FROM PLAZO
  LEFT JOIN ALMACEN ON PLAZO.ALMACENID = ALMACEN.ID
  ORDER BY PLAZO.CLAVE
;
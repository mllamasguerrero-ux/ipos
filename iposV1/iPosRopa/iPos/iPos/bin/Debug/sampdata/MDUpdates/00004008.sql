create or alter procedure GET_VENTASPEND_PAGOS_BANCOMER (
    CORTEID D_FK)
returns (
    CANTIDAD bigint,
    ERRORCODE D_ERRORCODE)
as
BEGIN

    SELECT COUNT (*) FROM DOCTO WHERE CORTEID = :CORTEID AND ESTATUSDOCTOID = 0
    AND COALESCE(PAGOBANCOMERAPLICADO,'N') = 'S'
    AND TIPODOCTOID = 21
    INTO :CANTIDAD;

   ERRORCODE = 0;
   SUSPEND;

   WHEN ANY DO
   BEGIN
      ERRORCODE = 1025;
      SUSPEND;
   END 
END
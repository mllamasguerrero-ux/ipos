EXECUTE BLOCK AS

declare variable CALLE                 D_STDTEXT_MEDIUM /* D_STDTEXT_MEDIUM = VARCHAR(128) */;
declare variable NUMEROEXTERIOR        D_STDTEXT_SHORT /* D_STDTEXT_SHORT = VARCHAR(32) */;
declare variable NUMEROINTERIOR        D_STDTEXT_SHORT /* D_STDTEXT_SHORT = VARCHAR(32) */;
declare variable COLONIA               D_STDTEXT_MEDIUM /* D_STDTEXT_MEDIUM = VARCHAR(128) */;
declare variable MUNICIPIO             D_STDTEXT_MEDIUM /* D_STDTEXT_MEDIUM = VARCHAR(128) */;
declare variable ESTADO                D_STDTEXT_SHORT /* D_STDTEXT_SHORT = VARCHAR(32) */;
declare variable CODIGOPOSTAL          D_STDTEXT_SHORT /* D_STDTEXT_SHORT = VARCHAR(32) */;
declare variable SAT_COLONIAID         D_FK /* D_FK = BIGINT */;
declare variable SAT_LOCALIDADID       D_FK /* D_FK = BIGINT */;
declare variable SAT_MUNICIPIOID       D_FK /* D_FK = BIGINT */;
declare variable DISTANCIA             D_CANTIDAD /* D_CANTIDAD = NUMERIC(18,4) DEFAULT 0.0000 */;
declare variable REFERENCIADOM         D_STDTEXT_MEDIUM /* D_STDTEXT_MEDIUM = VARCHAR(128) */;
declare variable LATITUD               D_COORDENADA /* D_COORDENADA = DOUBLE PRECISION */;
declare variable LONGITUD              D_COORDENADA /* D_COORDENADA = DOUBLE PRECISION */;
declare variable PERSONAID             D_FK /* D_FK = BIGINT */ ;
declare variable CREADOPOR_USERID      D_FK /* D_FK = BIGINT */ ;
declare variable MODIFICADOPOR_USERID      D_FK /* D_FK = BIGINT */;

BEGIN


    FOR SELECT
        ID,
        ENTREGACALLE ,
        ENTREGANUMEROEXTERIOR ,
        ENTREGANUMEROINTERIOR,
        ENTREGACOLONIA,
        ENTREGAMUNICIPIO,
        ENTREGAESTADO,
        ENTREGACODIGOPOSTAL,
        ENTREGA_SAT_COLONIAID,
        ENTREGA_SAT_LOCALIDADID,
        ENTREGA_SAT_MUNICIPIOID,
        ENTREGA_DISTANCIA,
        ENTREGAREFERENCIADOM ,
        CREADOPOR_USERID,
        MODIFICADOPOR_USERID
        FROM
        PERSONA WHERE COALESCE(ENTREGACALLE, '') <> ''

    INTO :PERSONAID,
         :CALLE,
         :NUMEROEXTERIOR,
         :NUMEROINTERIOR,
         :COLONIA,
         :MUNICIPIO,
         :ESTADO,
         :CODIGOPOSTAL,
         :SAT_COLONIAID,
         :SAT_LOCALIDADID,
         :SAT_MUNICIPIOID,
         :DISTANCIA,
         :REFERENCIADOM,
         :CREADOPOR_USERID,
         :MODIFICADOPOR_USERID

    DO
    BEGIN

    INSERT INTO DOMICILIO
      (
ACTIVO,

CREADOPOR_USERID,

MODIFICADOPOR_USERID,

CALLE,

NUMEROEXTERIOR,

NUMEROINTERIOR,

COLONIA,

MUNICIPIO,

ESTADO,

CODIGOPOSTAL,

SAT_COLONIAID,

SAT_LOCALIDADID,

SAT_MUNICIPIOID,

DISTANCIA,

REFERENCIADOM,

LATITUD,

LONGITUD,

PERSONAID,

ORDEN,

PREDETERMINADO
         )

Values (

'S',

:CREADOPOR_USERID,

:MODIFICADOPOR_USERID,

:CALLE,

:NUMEROEXTERIOR,

:NUMEROINTERIOR,

:COLONIA,

:MUNICIPIO,

:ESTADO,

:CODIGOPOSTAL,

:SAT_COLONIAID,

:SAT_LOCALIDADID,

:SAT_MUNICIPIOID,

:DISTANCIA,

:REFERENCIADOM,

:LATITUD,

:LONGITUD,

:PERSONAID,

0,

'N'
);



    END




END;

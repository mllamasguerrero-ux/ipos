create or alter procedure INVFIS_FIS_FINEDICION (
    DOCTOID D_FK)
returns (
    ERRORCODE D_ERRORCODE)
as
BEGIN


   SELECT ERRORCODE FROM INVFIS_PREPARARCIERRE (:DOCTOID) INTO :ERRORCODE;

   IF(COALESCE(:ERRORCODE,0) <> 0) THEN
   BEGIN
      SUSPEND;
      EXIT;
   END

   UPDATE DOCTO
   SET ESTATUSDOCTOID = 3
   WHERE ID = :DOCTOID;

END